<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="stylesheets/newproject.css">
    <meta charset="UTF-8">
    <title>New Project</title>
</head>
<body>
    <div id="tools">
        <div class="tool" value="0"><img src="images/celaNota.png"></div>
        <div class="tool" value="1"><img src="images/pulovaNota.png"></div>
        <div class="tool" value="2"><img src="images/ctvrtovaNota.png"></div>
        <div class="tool" value="3"><img src="images/osminkaNota.png"></div>
        <div class="tool" value="4"><img src="images/sestnatinkaNota.png"></div>
        <div class="tool" value="5"><img src="images/celaPomlka.png"></div>
        <div class="tool" value="6"><img src="images/pulovaPomlka.png"></div>
        <div class="tool" value="7"><img src="images/ctvrtovaPomlka.png"></div>
        <div class="tool" value="8"><img src="images/osminkaPomlka.png"></div>
        <div class="tool" value="9"><img src="images/sestnatinkovaPomlka.png"></div>
        <div class="tool"></div>
        <div class="tool"></div>
        <div class="tool"></div>
        <div class="tool"></div>
        <div class="tool"></div>
        <div class="tool"></div>
        <div class="tool"></div>
        <div class="tool"></div>
        <div class="tool"></div>
        <div class="tool"></div>
    </div>
    <div id="whitePage">
        <div id="Nadpis" contenteditable="true">New Project</div>
        <div id="MusicBY" contenteditable="true">Music by:</div>
        <div id="Arranged"contenteditable="true">Arranged by:</div>
        <div class="row" style="margin-top:200px;">
            <div class="space"><div class="c"></div></div>
            <div class="line"><div class="c"></div><div class="blackline"></div></div>
            <div class="space"><div class="c"></div></div>
            <div class="line"><div class="c"></div><div class="blackline"></div></div>
            <div class="space"><div class="c"></div></div>
            <div class="line"><div class="c"></div><div class="blackline"></div></div>
            <div class="space"><div class="c"></div></div>
            <div class="line"><div class="c"></div><div class="blackline"></div></div>
            <div class="space"><div class="c"></div></div>
            <div class="line"><div class="c"></div><div class="blackline"></div></div>
            <img class="houslovyKEY" src="images/HouslovyKEY.png">
        </div>
    </div>
    <script>
        const tools=["celaNota","pulovaNota","ctvrtovaNota","osminkaNota","sestnatinkaNota","celaPomlka","pulovaPomlka","ctvrtovaPomlka","osminkaPomlka","sestnatinkovaPomlka"]
        let selectedTool;
        x=document.getElementsByClassName("line");
        y=document.getElementsByClassName("space");
        for(let i=0;i<x.length;i++){
            x[i].onmouseenter=targetable;
            x[i].onmouseout=hideNote;
        }
        for(let i=0;i<y.length;i++){
            y[i].onmouseenter=targetable;
            y[i].onmouseout=hideNote;
        }
        boxes=document.getElementsByClassName("tool");
        for(let i=0;i<boxes.length;i++){
            boxes[i].onclick=selectNote;
        }
        function targetable(){
            if(selectedTool){
                img =document.createElement("img");
                img.src="images/"+tools[selectedTool]+".png"
                img.classList.add("nota");
                img.style.left=window.event.clientX-100+"px";
                this.getElementsByClassName("c")[0].appendChild(img);
            }
        }
        function hideNote(){
            this.getElementsByClassName("c")[0].removeChild(this.getElementsByClassName("c")[0].lastChild)
        }
        function selectNote(){
            for(i=0;i<boxes.length;i++){
                boxes[i].style.background="white"
            }
            selectedTool=this.getAttribute("value");
            console.log(selectedTool);
            this.style.background="radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(167,167,167,1) 100%)";
        }
    </script>
    <script>
        dragElement(document.getElementById("tools"));

        function dragElement(elmnt) {
        var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;

        document.getElementById("tools").onmousedown = dragMouseDown;


        function dragMouseDown(e) {
            e = e || window.event;
            e.preventDefault();
            // get the mouse cursor position at startup:
            pos3 = e.clientX;
            pos4 = e.clientY;
            document.onmouseup = closeDragElement;
            // call a function whenever the cursor moves:
            document.onmousemove = elementDrag;
        }

        function elementDrag(e) {
            e = e || window.event;
            e.preventDefault();
            // calculate the new cursor position:
            pos1 = pos3 - e.clientX;
            pos2 = pos4 - e.clientY;
            pos3 = e.clientX;
            pos4 = e.clientY;
            // set the element's new position:
            elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
            elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
        }

        function closeDragElement() {
            /* stop moving when mouse button is released:*/
            document.onmouseup = null;
            document.onmousemove = null;
        }
        }
    </script>
</body>
</html>